---
import Hero from '../../components/Hero.astro';
import ScrollProgress from '../../components/ScrollProgress.astro';
import Layout from '../../layouts/Layout.astro';
import heroImage from '../../assets/images/Projects-Hero.png';
import heroImageSM from '../../assets/images/Projects-Hero-SM.png';
import ProjectCard from '../../components/ProjectCard.astro';
import ContactUsSection from '../../components/ContactUsSection.astro';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');

console.log('Projects!: ', projects[0]);
---

<Layout
    title='Projects - Archytech'
    description='Successful Projects Completed and In Progress for Archytech'
    robots={false}
>
    <Hero heroBackgroundImgSrcList={[heroImageSM, heroImage]}>
        <div class='bottom-10 z-20 absolute flex w-full flex-col space-y-8 md:space-y-10'>
            <h2 class='hero-h1 bottom-0 tracking-wide px-6 lg:px-20'>Projects</h2>
            <div class='px-6 lg:px-20'>
                <ScrollProgress
                    isHeroScrollProgress={true}
                    barColor='bg-brand-black'
                    progressColor='bg-brand-gray'
                    barHeight='h-48 lg:h-56'
                    progress='bottom-[75%]'
                />
            </div>
        </div>
        <div
            class='bg-brand-black bg-blend-luminosity md:backdrop-blur-xl bg-opacity-50 z-10 absolute top-0 left-0 w-full md:w-[43%] h-full'
        >
        </div>
    </Hero>
    <main class='flex flex-col items-center w-full py-8 lg:py-16 lg:px-16 px-6'>
        <div class="flex flex-col">
<section class='flex flex-col space-y-4 mb-8 items-start w-full lg:flex-row lg:space-y-0 lg:space-x-8'>
            <div class='relative'>
                <button
                    id='residential-filter-button'
                    class='text-brand-black text-lg hover:text-brand-gray transform transition-colors duration-200'
                    >RESIDENTIAL</button
                >
                <span
                    id='residential-underline'
                    class='invisible relative -bottom-1 left-0 after:block after:transform after:transition-transform after:duration-300 after:-translate-x-full after:w-[70px] after:h-[3px] after:bg-brand-black after:rounded-full'
                ></span>
            </div>
            <div class='relative'>
                <button
                    id='commercial-filter-button'
                    class='text-brand-black text-lg hover:text-brand-gray'>COMMERCIAL</button
                >
                <span
                    id='commercial-underline'
                    class='invisible relative -bottom-1 left-0 after:block after:transform after:transition-transform after:duration-300 after:-translate-x-full after:w-[70px] after:h-[3px] after:bg-brand-black after:rounded-full'
                ></span>
            </div>
            <div>
                <button
                    id='in-progress-filter-button'
                    class='text-brand-black text-lg hover:text-brand-gray'>IN PROGRESS</button
                >
                <span
                    id='in-progress-underline'
                    class='invisible relative -bottom-1 left-0 after:block after:transform after:transition-transform after:duration-300 after:-translate-x-full after:w-[70px] after:h-[3px] after:bg-brand-black after:rounded-full'
                ></span>
            </div>
        </section>
        <section class='grid grid-cols-1 gap-y-6 justify-items-center md:grid-cols-2 lg:grid-cols-3 md:gap-x-16 lg:gap-y-10'>
            {projects.map((project: any) => {
                return <ProjectCard projectName={project.data.projectName} projectImageMobileSrc={project.data.heroImageMobile} 
                projectImageDesktopSrc={project.data.heroImageDesktop} projectImageAlt={project.data.heroImageAlt}/>
            })}
        </section>
        </div>
        
    </main>
    <ContactUsSection />
    <script src='../../scripts/projects.ts'></script>
</Layout>
